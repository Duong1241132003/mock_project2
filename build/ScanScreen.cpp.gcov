        -:    0:Source:/home/duong/MediaPlayerApp/src/views/ScanScreen.cpp
        -:    0:Graph:/home/duong/MediaPlayerApp/build/CMakeFiles/RunTests.dir/src/views/ScanScreen.cpp.gcno
        -:    0:Data:/home/duong/MediaPlayerApp/build/CMakeFiles/RunTests.dir/src/views/ScanScreen.cpp.gcda
        -:    0:Runs:6
        -:    1:// Project includes
        -:    2:#include "views/ScanScreen.h"
        -:    3:#include "utils/Logger.h"
        -:    4:
        -:    5:namespace media_player 
        -:    6:{
        -:    7:namespace views 
        -:    8:{
        -:    9:
    #####:   10:ScanScreen::ScanScreen(std::shared_ptr<controllers::SourceController> sourceController)
    #####:   11:    : m_sourceController(sourceController)
    #####:   12:    , m_isVisible(false)
    #####:   13:    , m_scannedCount(0)
        -:   14:{
        -:   15:    // Setup callbacks
    #####:   16:    m_sourceController->setProgressCallback(
    #####:   17:        [this](int count, const std::string& path) 
        -:   18:        {
    #####:   19:            onScanProgress(count, path);
    #####:   20:        }
        -:   21:    );
        -:   22:    
    #####:   23:    m_sourceController->setCompleteCallback(
    #####:   24:        [this](int totalFiles) 
        -:   25:        {
    #####:   26:            onScanComplete(totalFiles);
    #####:   27:        }
        -:   28:    );
        -:   29:    
    #####:   30:    LOG_INFO("ScanScreen created");
    #####:   31:}
        -:   32:
    #####:   33:ScanScreen::~ScanScreen() 
        -:   34:{
    #####:   35:    LOG_INFO("ScanScreen destroyed");
    #####:   36:}
------------------
_ZN12media_player5views10ScanScreenD0Ev:
    #####:   33:ScanScreen::~ScanScreen() 
        -:   34:{
        -:   35:    LOG_INFO("ScanScreen destroyed");
    #####:   36:}
------------------
_ZN12media_player5views10ScanScreenD2Ev:
    #####:   33:ScanScreen::~ScanScreen() 
        -:   34:{
    #####:   35:    LOG_INFO("ScanScreen destroyed");
    #####:   36:}
------------------
        -:   37:
    #####:   38:void ScanScreen::show() 
        -:   39:{
    #####:   40:    m_isVisible = true;
    #####:   41:    LOG_INFO("ScanScreen shown");
    #####:   42:}
        -:   43:
    #####:   44:void ScanScreen::hide() 
        -:   45:{
    #####:   46:    m_isVisible = false;
    #####:   47:    LOG_INFO("ScanScreen hidden");
    #####:   48:}
        -:   49:
    #####:   50:void ScanScreen::update() 
        -:   51:{
    #####:   52:    if (!m_isVisible) 
        -:   53:    {
    #####:   54:        return;
        -:   55:    }
        -:   56:    
        -:   57:    // Display scan progress
    #####:   58:    if (m_sourceController->isScanning()) 
        -:   59:    {
    #####:   60:        LOG_DEBUG("Scanning: " + std::to_string(m_scannedCount) + " files found...");
    #####:   61:        LOG_DEBUG("Current: " + m_currentPath);
        -:   62:    }
        -:   63:}
        -:   64:
    #####:   65:bool ScanScreen::isVisible() const 
        -:   66:{
    #####:   67:    return m_isVisible;
        -:   68:}
        -:   69:
    #####:   70:void ScanScreen::startScan(const std::string& path) 
        -:   71:{
    #####:   72:    LOG_INFO("Starting scan: " + path);
        -:   73:    
    #####:   74:    m_scannedCount = 0;
    #####:   75:    m_currentPath.clear();
        -:   76:    
    #####:   77:    m_sourceController->selectDirectory(path);
    #####:   78:    m_sourceController->scanCurrentDirectory();
    #####:   79:}
        -:   80:
    #####:   81:void ScanScreen::stopScan() 
        -:   82:{
    #####:   83:    LOG_INFO("Stopping scan");
    #####:   84:    m_sourceController->stopScan();
    #####:   85:}
        -:   86:
    #####:   87:void ScanScreen::onScanProgress(int count, const std::string& currentPath) 
        -:   88:{
    #####:   89:    m_scannedCount = count;
    #####:   90:    m_currentPath = currentPath;
    #####:   91:}
        -:   92:
    #####:   93:void ScanScreen::onScanComplete(int totalFiles) 
        -:   94:{
    #####:   95:    LOG_INFO("Scan complete! Found " + std::to_string(totalFiles) + " media files");
    #####:   96:    m_scannedCount = totalFiles;
    #####:   97:}
        -:   98:
        -:   99:} // namespace views
        -:  100:} // namespace media_player
