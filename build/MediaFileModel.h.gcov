        -:    0:Source:/home/duong/MediaPlayerApp/inc/models/MediaFileModel.h
        -:    0:Graph:/home/duong/MediaPlayerApp/build/CMakeFiles/RunTests.dir/tests/models/MediaFileModelTest.cpp.gcno
        -:    0:Data:/home/duong/MediaPlayerApp/build/CMakeFiles/RunTests.dir/tests/models/MediaFileModelTest.cpp.gcda
        -:    0:Runs:6
        -:    1:#ifndef MEDIA_FILE_MODEL_H
        -:    2:#define MEDIA_FILE_MODEL_H
        -:    3:
        -:    4:// System includes
        -:    5:#include <string>
        -:    6:#include <chrono>
        -:    7:#include <memory>
        -:    8:#include <filesystem>
        -:    9:
        -:   10:namespace media_player 
        -:   11:{
        -:   12:namespace models 
        -:   13:{
        -:   14:
        -:   15:enum class MediaType 
        -:   16:{
        -:   17:    AUDIO,
        -:   18:    VIDEO,
        -:   19:    UNSUPPORTED,
        -:   20:    UNKNOWN
        -:   21:};
        -:   22:
        -:   23:class MediaFileModel 
        -:   24:{
        -:   25:public:
        -:   26:    // Constructors
        -:   27:    MediaFileModel();
        -:   28:    explicit MediaFileModel(const std::string& filePath);
        -:   29:    
        -:   30:    // Getters
        -:   31:    std::string getFilePath() const 
        -:   32:    { 
        -:   33:        return m_filePath; 
        -:   34:    }
        -:   35:    
        -:   36:    std::string getFileName() const 
        -:   37:    { 
        -:   38:        return m_fileName; 
        -:   39:    }
        -:   40:    
        -:   41:    std::string getExtension() const 
        -:   42:    { 
        -:   43:        return m_extension; 
        -:   44:    }
        -:   45:    
       24:   46:    MediaType getType() const 
        -:   47:    { 
       24:   48:        return m_type; 
        -:   49:    }
        -:   50:    
        -:   51:    size_t getFileSize() const 
        -:   52:    { 
        -:   53:        return m_fileSize; 
        -:   54:    }
        -:   55:    
        -:   56:    // Metadata getters
        6:   57:    std::string getTitle() const { return m_title; }
        6:   58:    std::string getArtist() const { return m_artist; }
        -:   59:    std::string getAlbum() const { return m_album; }
        6:   60:    int getDuration() const { return m_duration; }
        -:   61:    
        -:   62:    // Metadata setters
        6:   63:    void setTitle(const std::string& title) { m_title = title; }
        6:   64:    void setArtist(const std::string& artist) { m_artist = artist; }
        -:   65:    void setAlbum(const std::string& album) { m_album = album; }
        6:   66:    void setDuration(int duration) { m_duration = duration; }
        -:   67:    
        -:   68:    // Validation
        -:   69:    bool isValid() const;
        -:   70:    
        -:   71:    bool isAudio() const 
        -:   72:    { 
        -:   73:        return m_type == MediaType::AUDIO; 
        -:   74:    }
        -:   75:    
        -:   76:    bool isVideo() const 
        -:   77:    { 
        -:   78:        return m_type == MediaType::VIDEO; 
        -:   79:    }
        -:   80:
        -:   81:    bool isUnsupported() const
        -:   82:    {
        -:   83:        return m_type == MediaType::UNSUPPORTED;
        -:   84:    }
        -:   85:    
        -:   86:    // Helper to check if playable
        -:   87:    bool isSupported() const
        -:   88:    {
        -:   89:        return m_type == MediaType::AUDIO || m_type == MediaType::VIDEO;
        -:   90:    }
        -:   91:    
        -:   92:    // Comparison operators for sorting
        -:   93:    bool operator<(const MediaFileModel& other) const;
        -:   94:    bool operator==(const MediaFileModel& other) const;
        -:   95:    
        -:   96:    // Serialization
        -:   97:    std::string serialize() const;
        -:   98:    static MediaFileModel deserialize(const std::string& data);
        -:   99:    
        -:  100:private:
        -:  101:    void extractFileInfo();
        -:  102:    MediaType determineMediaType() const;
        -:  103:    
        -:  104:    std::string m_filePath;
        -:  105:    std::string m_fileName;
        -:  106:    std::string m_extension;
        -:  107:    MediaType m_type;
        -:  108:    size_t m_fileSize;
        -:  109:    std::filesystem::file_time_type m_lastModified;
        -:  110:    
        -:  111:    // Metadata fields
        -:  112:    std::string m_title;
        -:  113:    std::string m_artist;
        -:  114:    std::string m_album;
        -:  115:    int m_duration = 0;
        -:  116:};
        -:  117:
        -:  118:} // namespace models
        -:  119:} // namespace media_player
        -:  120:
        -:  121:#endif // MEDIA_FILE_MODEL_H
