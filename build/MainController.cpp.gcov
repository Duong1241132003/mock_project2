        -:    0:Source:/home/duong/MediaPlayerApp/src/controllers/MainController.cpp
        -:    0:Graph:/home/duong/MediaPlayerApp/build/CMakeFiles/RunTests.dir/src/controllers/MainController.cpp.gcno
        -:    0:Data:/home/duong/MediaPlayerApp/build/CMakeFiles/RunTests.dir/src/controllers/MainController.cpp.gcda
        -:    0:Runs:6
        -:    1:// Project includes
        -:    2:#include "controllers/MainController.h"
        -:    3:#include "utils/Logger.h"
        -:    4:
        -:    5:namespace media_player 
        -:    6:{
        -:    7:namespace controllers 
        -:    8:{
        -:    9:
    #####:   10:MainController::MainController(
        -:   11:    std::shared_ptr<PlaybackController> playbackController,
        -:   12:    std::shared_ptr<SourceController> sourceController,
        -:   13:    std::shared_ptr<LibraryController> libraryController,
        -:   14:    std::shared_ptr<PlaylistController> playlistController,
        -:   15:    std::shared_ptr<QueueController> queueController,
        -:   16:    std::shared_ptr<HardwareController> hardwareController,
        -:   17:    std::shared_ptr<models::SystemStateModel> systemStateModel
    #####:   18:)
    #####:   19:    : m_playbackController(playbackController)
    #####:   20:    , m_sourceController(sourceController)
    #####:   21:    , m_libraryController(libraryController)
    #####:   22:    , m_playlistController(playlistController)
    #####:   23:    , m_queueController(queueController)
    #####:   24:    , m_hardwareController(hardwareController)
    #####:   25:    , m_systemStateModel(systemStateModel)
    #####:   26:    , m_currentScreen(ScreenType::MAIN)
        -:   27:{
    #####:   28:    LOG_INFO("MainController created");
    #####:   29:}
        -:   30:
    #####:   31:MainController::~MainController() 
        -:   32:{
    #####:   33:    shutdown();
    #####:   34:    LOG_INFO("MainController destroyed");
    #####:   35:}
        -:   36:
    #####:   37:void MainController::navigateTo(ScreenType screen) 
        -:   38:{
    #####:   39:    m_currentScreen = screen;
        -:   40:    
    #####:   41:    switch (screen) 
        -:   42:    {
    #####:   43:        case ScreenType::MAIN:
    #####:   44:            LOG_INFO("Navigated to Main Screen");
    #####:   45:            break;
    #####:   46:        case ScreenType::LIBRARY:
    #####:   47:            LOG_INFO("Navigated to Library Screen");
    #####:   48:            break;
    #####:   49:        case ScreenType::PLAYLIST:
    #####:   50:            LOG_INFO("Navigated to Playlist Screen");
    #####:   51:            break;
    #####:   52:        case ScreenType::QUEUE:
    #####:   53:            LOG_INFO("Navigated to Queue Panel");
    #####:   54:            break;
    #####:   55:        case ScreenType::SCAN:
    #####:   56:            LOG_INFO("Navigated to Scan Screen");
    #####:   57:            break;
        -:   58:    }
    #####:   59:}
        -:   60:
    #####:   61:ScreenType MainController::getCurrentScreen() const 
        -:   62:{
    #####:   63:    return m_currentScreen;
        -:   64:}
        -:   65:
    #####:   66:bool MainController::initialize() 
        -:   67:{
    #####:   68:    LOG_INFO("Initializing application...");
        -:   69:    
        -:   70:    // Initialize hardware controller
    #####:   71:    if (m_hardwareController) 
        -:   72:    {
    #####:   73:        m_hardwareController->initialize();
        -:   74:    }
        -:   75:    
    #####:   76:    LOG_INFO("Application initialized successfully");
    #####:   77:    return true;
        -:   78:}
        -:   79:
    #####:   80:void MainController::shutdown() 
        -:   81:{
    #####:   82:    LOG_INFO("Shutting down application...");
        -:   83:    
        -:   84:    // Stop playback
    #####:   85:    if (m_playbackController) 
        -:   86:    {
    #####:   87:        m_playbackController->stop();
        -:   88:    }
        -:   89:    
        -:   90:    // Stop scanning
    #####:   91:    if (m_sourceController) 
        -:   92:    {
    #####:   93:        m_sourceController->stopScan();
        -:   94:    }
        -:   95:    
        -:   96:    // Disconnect hardware
    #####:   97:    if (m_hardwareController) 
        -:   98:    {
    #####:   99:        m_hardwareController->disconnect();
        -:  100:    }
        -:  101:    
    #####:  102:    LOG_INFO("Application shutdown complete");
    #####:  103:}
        -:  104:
    #####:  105:void MainController::handleGlobalKeyPress(int keyCode) 
        -:  106:{
        -:  107:    // Handle global keyboard shortcuts
    #####:  108:    LOG_DEBUG("Global key press: " + std::to_string(keyCode));
    #####:  109:}
        -:  110:
    #####:  111:void MainController::handleGlobalEvent(const std::string& event) 
        -:  112:{
    #####:  113:    LOG_DEBUG("Global event: " + event);
    #####:  114:}
        -:  115:
        -:  116:} // namespace controllers
        -:  117:} // namespace media_player
