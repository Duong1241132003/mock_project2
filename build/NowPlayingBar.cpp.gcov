        -:    0:Source:/home/duong/MediaPlayerApp/src/views/NowPlayingBar.cpp
        -:    0:Graph:/home/duong/MediaPlayerApp/build/CMakeFiles/RunTests.dir/src/views/NowPlayingBar.cpp.gcno
        -:    0:Data:/home/duong/MediaPlayerApp/build/CMakeFiles/RunTests.dir/src/views/NowPlayingBar.cpp.gcda
        -:    0:Runs:6
        -:    1:// Project includes
        -:    2:#include "views/NowPlayingBar.h"
        -:    3:#include "utils/Logger.h"
        -:    4:
        -:    5:namespace media_player 
        -:    6:{
        -:    7:namespace views 
        -:    8:{
        -:    9:
    #####:   10:NowPlayingBar::NowPlayingBar(
        -:   11:    std::shared_ptr<models::PlaybackStateModel> playbackStateModel,
        -:   12:    std::shared_ptr<controllers::PlaybackController> playbackController
    #####:   13:)
    #####:   14:    : m_playbackStateModel(playbackStateModel)
    #####:   15:    , m_playbackController(playbackController)
    #####:   16:    , m_isVisible(false)
        -:   17:{
    #####:   18:    LOG_INFO("NowPlayingBar created");
    #####:   19:}
        -:   20:
    #####:   21:NowPlayingBar::~NowPlayingBar() 
        -:   22:{
    #####:   23:    LOG_INFO("NowPlayingBar destroyed");
    #####:   24:}
------------------
_ZN12media_player5views13NowPlayingBarD0Ev:
    #####:   21:NowPlayingBar::~NowPlayingBar() 
        -:   22:{
        -:   23:    LOG_INFO("NowPlayingBar destroyed");
    #####:   24:}
------------------
_ZN12media_player5views13NowPlayingBarD2Ev:
    #####:   21:NowPlayingBar::~NowPlayingBar() 
        -:   22:{
    #####:   23:    LOG_INFO("NowPlayingBar destroyed");
    #####:   24:}
------------------
        -:   25:
    #####:   26:void NowPlayingBar::show() 
        -:   27:{
    #####:   28:    m_isVisible = true;
    #####:   29:    update();
    #####:   30:    LOG_INFO("NowPlayingBar shown");
    #####:   31:}
        -:   32:
    #####:   33:void NowPlayingBar::hide() 
        -:   34:{
    #####:   35:    m_isVisible = false;
    #####:   36:    LOG_INFO("NowPlayingBar hidden");
    #####:   37:}
        -:   38:
    #####:   39:void NowPlayingBar::update() 
        -:   40:{
    #####:   41:    if (!m_isVisible) 
        -:   42:    {
    #####:   43:        return;
        -:   44:    }
        -:   45:    
    #####:   46:    updateDisplayInfo();
    #####:   47:    updateProgressBar();
    #####:   48:    updatePlayPauseButton();
        -:   49:}
        -:   50:
    #####:   51:bool NowPlayingBar::isVisible() const 
        -:   52:{
    #####:   53:    return m_isVisible;
        -:   54:}
        -:   55:
    #####:   56:void NowPlayingBar::onPlayPauseClicked() 
        -:   57:{
    #####:   58:    m_playbackController->togglePlayPause();
    #####:   59:}
        -:   60:
    #####:   61:void NowPlayingBar::onStopClicked() 
        -:   62:{
    #####:   63:    m_playbackController->stop();
    #####:   64:}
        -:   65:
    #####:   66:void NowPlayingBar::onNextClicked() 
        -:   67:{
    #####:   68:    m_playbackController->playNext();
    #####:   69:}
        -:   70:
    #####:   71:void NowPlayingBar::onPreviousClicked() 
        -:   72:{
    #####:   73:    m_playbackController->playPrevious();
    #####:   74:}
        -:   75:
    #####:   76:void NowPlayingBar::onVolumeChanged(int volume) 
        -:   77:{
    #####:   78:    m_playbackController->setVolume(volume);
    #####:   79:}
        -:   80:
    #####:   81:void NowPlayingBar::onSeekBarDragged(float percentage) 
        -:   82:{
    #####:   83:    int totalDuration = m_playbackStateModel->getTotalDuration();
    #####:   84:    int targetPosition = static_cast<int>(totalDuration * percentage / 100.0f);
        -:   85:    
    #####:   86:    m_playbackController->seek(targetPosition);
    #####:   87:}
        -:   88:
    #####:   89:void NowPlayingBar::updateDisplayInfo() 
        -:   90:{
    #####:   91:    std::string currentTime = m_playbackStateModel->getFormattedPosition();
    #####:   92:    std::string totalTime = m_playbackStateModel->getFormattedDuration();
        -:   93:    
        -:   94:    // TODO: Update UI labels
    #####:   95:    LOG_DEBUG("Time: " + currentTime + " / " + totalTime);
    #####:   96:}
        -:   97:
    #####:   98:void NowPlayingBar::updateProgressBar() 
        -:   99:{
    #####:  100:    float progress = m_playbackStateModel->getProgressPercentage();
        -:  101:    
        -:  102:    // TODO: Update UI progress bar
    #####:  103:    LOG_DEBUG("Progress: " + std::to_string(progress) + "%");
    #####:  104:}
        -:  105:
    #####:  106:void NowPlayingBar::updatePlayPauseButton() 
        -:  107:{
    #####:  108:    bool isPlaying = m_playbackStateModel->isPlaying();
        -:  109:    
        -:  110:    // TODO: Update UI button icon (Play/Pause)
    #####:  111:    LOG_DEBUG("Play/Pause button: " + std::string(isPlaying ? "Pause" : "Play"));
    #####:  112:}
        -:  113:
        -:  114:} // namespace views
        -:  115:} // namespace media_player
