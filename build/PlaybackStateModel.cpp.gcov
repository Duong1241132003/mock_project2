        -:    0:Source:/home/duong/MediaPlayerApp/src/models/PlaybackStateModel.cpp
        -:    0:Graph:/home/duong/MediaPlayerApp/build/CMakeFiles/RunTests.dir/src/models/PlaybackStateModel.cpp.gcno
        -:    0:Data:/home/duong/MediaPlayerApp/build/CMakeFiles/RunTests.dir/src/models/PlaybackStateModel.cpp.gcda
        -:    0:Runs:6
        -:    1:// Project includes
        -:    2:#include "models/PlaybackStateModel.h"
        -:    3:
        -:    4:// System includes
        -:    5:#include <sstream>
        -:    6:#include <iomanip>
        -:    7:
        -:    8:namespace media_player 
        -:    9:{
        -:   10:namespace models 
        -:   11:{
        -:   12:
        -:   13:// setVolume moved to header inline
        -:   14:
    #####:   15:std::string PlaybackStateModel::getFormattedPosition() const 
        -:   16:{
    #####:   17:    std::lock_guard<std::mutex> lock(m_mutex);
    #####:   18:    int hours = m_currentPositionSeconds / 3600;
    #####:   19:    int minutes = (m_currentPositionSeconds % 3600) / 60;
    #####:   20:    int seconds = m_currentPositionSeconds % 60;
        -:   21:    
    #####:   22:    std::ostringstream oss;
        -:   23:    
    #####:   24:    if (hours > 0) 
        -:   25:    {
    #####:   26:        oss << std::setfill('0') << std::setw(2) << hours << ":";
        -:   27:    }
        -:   28:    
    #####:   29:    oss << std::setfill('0') << std::setw(2) << minutes << ":"
    #####:   30:        << std::setfill('0') << std::setw(2) << seconds;
        -:   31:    
    #####:   32:    return oss.str();
    #####:   33:}
        -:   34:
    #####:   35:std::string PlaybackStateModel::getFormattedDuration() const 
        -:   36:{
    #####:   37:    std::lock_guard<std::mutex> lock(m_mutex);
    #####:   38:    int hours = m_totalDurationSeconds / 3600;
    #####:   39:    int minutes = (m_totalDurationSeconds % 3600) / 60;
    #####:   40:    int seconds = m_totalDurationSeconds % 60;
        -:   41:    
    #####:   42:    std::ostringstream oss;
        -:   43:    
    #####:   44:    if (hours > 0) 
        -:   45:    {
    #####:   46:        oss << std::setfill('0') << std::setw(2) << hours << ":";
        -:   47:    }
        -:   48:    
    #####:   49:    oss << std::setfill('0') << std::setw(2) << minutes << ":"
    #####:   50:        << std::setfill('0') << std::setw(2) << seconds;
        -:   51:    
    #####:   52:    return oss.str();
    #####:   53:}
        -:   54:
        6:   55:float PlaybackStateModel::getProgressPercentage() const 
        -:   56:{
        6:   57:    std::lock_guard<std::mutex> lock(m_mutex);
        6:   58:    if (m_totalDurationSeconds <= 0) 
        -:   59:    {
    #####:   60:        return 0.0f;
        -:   61:    }
        -:   62:    
        6:   63:    return (static_cast<float>(m_currentPositionSeconds) / 
        6:   64:            static_cast<float>(m_totalDurationSeconds)) * 100.0f;
        6:   65:}
        -:   66:
        -:   67:} // namespace models
        -:   68:} // namespace media_player
